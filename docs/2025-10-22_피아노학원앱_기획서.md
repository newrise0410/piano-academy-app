# í”¼ì•„ë…¸ í•™ì› ê´€ë¦¬ ì•± ìƒì„¸ ê¸°íšì„œ ë° ê°œë°œì ë¬¸ì„œ

**ì‘ì„±ì¼**: 2025ë…„ 10ì›” 22ì¼
**ë²„ì „**: 1.0
**ì‘ì„±ì**: Piano Academy Development Team

---

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ](#2-ê¸°ìˆ -ìŠ¤íƒ)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#3-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°](#4-ë°ì´í„°ë² ì´ìŠ¤-êµ¬ì¡°)
5. [ì¸ì¦ ì‹œìŠ¤í…œ](#5-ì¸ì¦-ì‹œìŠ¤í…œ)
6. [ì„ ìƒë‹˜ ê¸°ëŠ¥](#6-ì„ ìƒë‹˜-ê¸°ëŠ¥)
7. [í•™ë¶€ëª¨ ê¸°ëŠ¥](#7-í•™ë¶€ëª¨-ê¸°ëŠ¥)
8. [ì„œë¹„ìŠ¤ ë° API](#8-ì„œë¹„ìŠ¤-ë°-api)
9. [ìƒíƒœ ê´€ë¦¬](#9-ìƒíƒœ-ê´€ë¦¬)
10. [ì„¤ì¹˜ ë° ì„¤ì •](#10-ì„¤ì¹˜-ë°-ì„¤ì •)
11. [ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­](#11-ì£¼ìš”-ê¸°ëŠ¥-êµ¬í˜„-ì„¸ë¶€ì‚¬í•­)
12. [í–¥í›„ ê°œë°œ ê³„íš](#12-í–¥í›„-ê°œë°œ-ê³„íš)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ì†Œê°œ

**í”¼ì•„ë…¸ í•™ì› ê´€ë¦¬ ì•±**ì€ í”¼ì•„ë…¸ í•™ì›ì˜ ìš´ì˜ì„ íš¨ìœ¨í™”í•˜ê³  ì„ ìƒë‹˜ê³¼ í•™ë¶€ëª¨ ê°„ì˜ ì›í™œí•œ ì†Œí†µì„ ì§€ì›í•˜ëŠ” ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

### 1.2 ê°œë°œ ëª©ì  ë° ë°°ê²½

- **í•™ì› ìš´ì˜ íš¨ìœ¨í™”**: ì¶œì„ ê´€ë¦¬, ìˆ˜ê°•ë£Œ ê´€ë¦¬, í•™ìƒ ì •ë³´ ê´€ë¦¬ë¥¼ í†µí•©
- **ì†Œí†µ ê°•í™”**: ì‹¤ì‹œê°„ ì•Œë¦¼ì¥ ë° ëŒ“ê¸€ ì‹œìŠ¤í…œìœ¼ë¡œ ì„ ìƒë‹˜-í•™ë¶€ëª¨ ê°„ ì†Œí†µ
- **AI í™œìš©**: Google Geminië¥¼ í™œìš©í•œ ìˆ˜ì—… ì¼ì§€ ë° ì•Œë¦¼ì¥ ì‘ì„± ìë™í™”
- **ëª¨ë°”ì¼ ìµœì í™”**: ì–¸ì œ ì–´ë””ì„œë‚˜ ì ‘ê·¼ ê°€ëŠ¥í•œ ëª¨ë°”ì¼ í™˜ê²½

### 1.3 ì£¼ìš” íƒ€ê²Ÿ ì‚¬ìš©ì

#### ì„ ìƒë‹˜ (Teacher)
- í•™ìƒ ê´€ë¦¬ (ë“±ë¡, ìˆ˜ì •, ì‚­ì œ)
- ì¶œì„ ì²´í¬ ë° íšŒì°¨ê¶Œ ê´€ë¦¬
- ì•Œë¦¼ì¥ ë°œì†¡
- ìˆ˜ì—… ì¼ì§€ ì‘ì„±
- ìˆ˜ê°•ë£Œ ê´€ë¦¬
- í†µê³„ í™•ì¸

#### í•™ë¶€ëª¨ (Parent)
- ìë…€ì˜ ì¶œì„ í˜„í™© ì¡°íšŒ
- ì•Œë¦¼ì¥ í™•ì¸ ë° ëŒ“ê¸€
- ìˆ˜ì—… ì¼ì§€ ì—´ëŒ
- ìˆ˜ê°•ë£Œ í™•ì¸
- ì§„ë„ í˜„í™© íŒŒì•…

### 1.4 í•µì‹¬ ê°€ì¹˜

1. **íš¨ìœ¨ì„±**: ë°˜ë³µì ì¸ ì—…ë¬´ ìë™í™” (íšŒì°¨ê¶Œ ì°¨ê°, AI ë©”ëª¨ ìƒì„±)
2. **íˆ¬ëª…ì„±**: ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™” ë° ì½ìŒ í™•ì¸
3. **í¸ì˜ì„±**: ì§ê´€ì ì¸ UI/UX
4. **í™•ì¥ì„±**: í–¥í›„ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´í•œ ì•„í‚¤í…ì²˜

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 Frontend

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React Native | 0.76.9 | í¬ë¡œìŠ¤ í”Œë«í¼ ëª¨ë°”ì¼ ì•± ê°œë°œ |
| Expo | 52.0.11 | ê°œë°œ í™˜ê²½ ë° ë¹Œë“œ |
| React Navigation | 7.x | í™”ë©´ ë„¤ë¹„ê²Œì´ì…˜ |
| NativeWind | 4.2.1 | Tailwind CSS ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§ |
| Zustand | 5.0.8 | ìƒíƒœ ê´€ë¦¬ |

### 2.2 Backend & Infrastructure

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Firebase Firestore | 12.4.0 | NoSQL ë°ì´í„°ë² ì´ìŠ¤ |
| Firebase Storage | 12.4.0 | ë¯¸ë””ì–´ íŒŒì¼ ì €ì¥ |
| Firebase Auth | 12.4.0 | ì‚¬ìš©ì ì¸ì¦ |
| Expo Notifications | - | í‘¸ì‹œ ì•Œë¦¼ |

### 2.3 AI & ì™¸ë¶€ API

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Google Gemini API | 1.5 Flash/Pro | AI ë©”ëª¨ ìƒì„±, ì•Œë¦¼ì¥ ì‘ì„± |

### 2.4 ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬

```json
{
  "expo-image-picker": "~16.0.3",     // ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ì„ íƒ
  "expo-file-system": "~18.0.12",     // íŒŒì¼ ì‹œìŠ¤í…œ
  "expo-device": "~17.0.6",           // ë””ë°”ì´ìŠ¤ ì •ë³´
  "react-native-chart-kit": "^6.12.0", // ì°¨íŠ¸
  "@react-native-async-storage/async-storage": "^1.23.1" // ë¡œì»¬ ì €ì¥ì†Œ
}
```

---

## 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 3.1 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Client (Mobile)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          React Native + Expo App                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚
â”‚  â”‚  â”‚   Teacher    â”‚  â”‚    Parent    â”‚             â”‚  â”‚
â”‚  â”‚  â”‚   Screens    â”‚  â”‚   Screens    â”‚             â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚
â”‚  â”‚         â”‚                  â”‚                     â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚  â”‚
â”‚  â”‚                    â”‚                             â”‚  â”‚
â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚
â”‚  â”‚         â”‚   Zustand Stores    â”‚                  â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚
â”‚  â”‚                    â”‚                             â”‚  â”‚
â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚
â”‚  â”‚         â”‚   Repositories      â”‚                  â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚
â”‚  â”‚                    â”‚                             â”‚  â”‚
â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚
â”‚  â”‚         â”‚      Services       â”‚                  â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Firebase   â”‚ â”‚   Firebase   â”‚ â”‚   Gemini     â”‚
â”‚  Firestore   â”‚ â”‚   Storage    â”‚ â”‚     API      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
piano-academy-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ common/          # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Text.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.js
â”‚   â”‚   â”‚   â”œâ”€â”€ FormInput.js
â”‚   â”‚   â”‚   â”œâ”€â”€ MediaPicker.js
â”‚   â”‚   â”‚   â”œâ”€â”€ CommentSection.js
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ teacher/         # ì„ ìƒë‹˜ ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ parent/          # í•™ë¶€ëª¨ ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/             # í™”ë©´ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ auth/            # ì¸ì¦ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ teacher/         # ì„ ìƒë‹˜ í™”ë©´ (16ê°œ)
â”‚   â”‚   â””â”€â”€ parent/          # í•™ë¶€ëª¨ í™”ë©´ (8ê°œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ navigation/          # ë„¤ë¹„ê²Œì´ì…˜ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ AppNavigator.js
â”‚   â”‚   â”œâ”€â”€ TeacherNavigator.js
â”‚   â”‚   â””â”€â”€ ParentNavigator.js
â”‚   â”‚
â”‚   â”œâ”€â”€ services/            # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° API
â”‚   â”‚   â”œâ”€â”€ firestoreService.js        # Firestore CRUD
â”‚   â”‚   â”œâ”€â”€ pushNotificationService.js # í‘¸ì‹œ ì•Œë¦¼
â”‚   â”‚   â”œâ”€â”€ geminiService.js           # AI í†µí•©
â”‚   â”‚   â”œâ”€â”€ authService.js             # ì¸ì¦
â”‚   â”‚   â””â”€â”€ dashboardService.js        # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚
â”‚   â”œâ”€â”€ repositories/        # ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
â”‚   â”‚   â”œâ”€â”€ StudentRepository.js
â”‚   â”‚   â”œâ”€â”€ AttendanceRepository.js
â”‚   â”‚   â”œâ”€â”€ NoticeRepository.js
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ store/               # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ authStore.js
â”‚   â”‚   â”œâ”€â”€ studentStore.js
â”‚   â”‚   â”œâ”€â”€ attendanceStore.js
â”‚   â”‚   â”œâ”€â”€ noticeStore.js
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ config/              # ì„¤ì • íŒŒì¼
â”‚   â”‚   â””â”€â”€ firebase.js
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/              # ìŠ¤íƒ€ì¼ ì •ì˜
â”‚   â”‚   â””â”€â”€ teacher_colors.js
â”‚   â”‚
â”‚   â””â”€â”€ utils/               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚
â”œâ”€â”€ docs/                    # ë¬¸ì„œ
â”œâ”€â”€ assets/                  # ì´ë¯¸ì§€, í°íŠ¸ ë“±
â””â”€â”€ package.json
```

### 3.3 ì½”ë“œ ì•„í‚¤í…ì²˜

#### Repository Pattern
- ë°ì´í„° ì ‘ê·¼ ë¡œì§ì„ ë¶„ë¦¬í•˜ì—¬ Mock/Firebase/API ëª¨ë“œ ì§€ì›
- í…ŒìŠ¤íŠ¸ ë° ìœ ì§€ë³´ìˆ˜ ìš©ì´

#### Service Layer
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì—ì„œ ì²˜ë¦¬
- í™”ë©´ ì»´í¬ë„ŒíŠ¸ëŠ” UI ë¡œì§ì—ë§Œ ì§‘ì¤‘

#### State Management (Zustand)
- ì „ì—­ ìƒíƒœë¥¼ Zustandë¡œ ê´€ë¦¬
- ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ API

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### 4.1 Firestore Collections

#### 4.1.1 students (í•™ìƒ)

```typescript
{
  id: string,
  teacherId: string,           // ë‹´ë‹¹ ì„ ìƒë‹˜ ID
  name: string,                // í•™ìƒ ì´ë¦„
  parentName: string,          // í•™ë¶€ëª¨ ì´ë¦„
  parentPhone: string,         // í•™ë¶€ëª¨ ì—°ë½ì²˜
  level: string,               // ìˆ˜ì¤€ (ì´ˆê¸‰/ì¤‘ê¸‰/ê³ ê¸‰)
  category: string,            // ì¹´í…Œê³ ë¦¬ (ì´ˆë“±/ê³ ë“±/ì„±ì¸)
  schedule: string,            // ìˆ˜ì—… ì¼ì • (ì˜ˆ: "ì›”/ìˆ˜ 16:00")

  // ìˆ˜ê°•ê¶Œ ì •ë³´
  ticketType: 'count' | 'period',  // íšŒì°¨ê¶Œ/ê¸°ê°„ê¶Œ
  ticketCount: number,         // ë‚¨ì€ íšŒì°¨ (íšŒì°¨ê¶Œì¸ ê²½ìš°)
  ticketPeriod: {              // ìˆ˜ê°• ê¸°ê°„ (ê¸°ê°„ê¶Œì¸ ê²½ìš°)
    start: string,             // YYYY-MM-DD
    end: string                // YYYY-MM-DD
  },

  // ìˆ˜ê°•ë£Œ ì •ë³´
  tuitionFee: number,          // ì›” ìˆ˜ê°•ë£Œ
  paymentDate: string,         // ë‚©ë¶€ì¼ (ì˜ˆ: "ë§¤ì›” 5ì¼")
  isPaid: boolean,             // ì´ë²ˆ ë‹¬ ë‚©ë¶€ ì—¬ë¶€

  memo: string,                // í•™ìƒ ì „ë°˜ ë©”ëª¨
  pushToken: string,           // í‘¸ì‹œ ì•Œë¦¼ í† í° (í•™ë¶€ëª¨ìš©)

  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### 4.1.2 attendance (ì¶œì„)

```typescript
{
  id: string,
  studentId: string,           // í•™ìƒ ID
  studentName: string,         // í•™ìƒ ì´ë¦„
  teacherId: string,           // ì„ ìƒë‹˜ ID
  date: string,                // ë‚ ì§œ (YYYY-MM-DD)
  status: 'present' | 'absent' | 'makeup',  // ì¶œì„/ê²°ì„/ë³´ê°•
  note: string,                // ë©”ëª¨
  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### 4.1.3 lessonNotes (ìˆ˜ì—… ì¼ì§€)

```typescript
{
  id: string,
  studentId: string,           // í•™ìƒ ID
  teacherId: string,           // ì„ ìƒë‹˜ ID
  date: string,                // ë‚ ì§œ (YYYY-MM-DD)
  progress: string,            // ì§„ë„
  practice: string,            // ì—°ìŠµ ê³¼ì œ
  memo: string,                // ë©”ëª¨ (AI ìƒì„± ê°€ëŠ¥)
  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### 4.1.4 notices (ì•Œë¦¼ì¥)

```typescript
{
  id: string,
  teacherId: string,           // ë°œì†¡í•œ ì„ ìƒë‹˜ ID
  title: string,               // ì œëª©
  content: string,             // ë‚´ìš©
  date: string,                // ë°œì†¡ ë‚ ì§œ (YYYY.MM.DD)
  time: string,                // ë°œì†¡ ì‹œê°„ (HH:mm)

  recipients: string[],        // ìˆ˜ì‹  í•™ìƒ ID ë°°ì—´
  confirmed: number,           // í™•ì¸í•œ í•™ìƒ ìˆ˜
  total: number,               // ì „ì²´ ìˆ˜ì‹ ì ìˆ˜

  readBy: Array<{              // ì½ìŒ í™•ì¸ ë°°ì—´
    studentId: string,
    readAt: timestamp
  }>,

  media: Array<{               // ì²¨ë¶€ ë¯¸ë””ì–´
    url: string,               // Firebase Storage URL
    type: 'image' | 'video'
  }>,

  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### 4.1.5 comments (ëŒ“ê¸€)

```typescript
{
  id: string,
  noticeId: string,            // ì•Œë¦¼ì¥ ID
  userId: string,              // ì‘ì„±ì ID
  userName: string,            // ì‘ì„±ì ì´ë¦„
  userType: 'teacher' | 'parent',  // ì‘ì„±ì ìœ í˜•
  content: string,             // ëŒ“ê¸€ ë‚´ìš©
  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### 4.1.6 makeupLessons (ë³´ê°• ìˆ˜ì—…)

```typescript
{
  id: string,
  teacherId: string,
  studentId: string,
  studentName: string,
  originalDate: string,        // ì›ë˜ ìˆ˜ì—… ë‚ ì§œ
  makeupDate: string,          // ë³´ê°• ë‚ ì§œ (YYYY-MM-DD)
  time: string,                // ë³´ê°• ì‹œê°„
  reason: string,              // ë³´ê°• ì‚¬ìœ 
  status: 'pending' | 'completed' | 'cancelled',
  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### 4.1.7 tuition (ìˆ˜ê°•ë£Œ)

```typescript
{
  id: string,
  teacherId: string,
  studentId: string,
  studentName: string,
  amount: number,              // ê¸ˆì•¡
  month: string,               // í•´ë‹¹ ì›” (YYYY-MM)
  paymentDate: string,         // ë‚©ë¶€ì¼
  status: 'paid' | 'unpaid' | 'overdue',
  method: string,              // ë‚©ë¶€ ë°©ë²•
  memo: string,
  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### 4.1.8 activities (í™œë™ ë¡œê·¸)

```typescript
{
  id: string,
  teacherId: string,
  type: string,                // í™œë™ ìœ í˜• (notice, student, attendance ë“±)
  action: string,              // ì•¡ì…˜ ì„¤ëª…
  studentName: string,         // ê´€ë ¨ í•™ìƒ
  details: string,             // ìƒì„¸ ë‚´ìš©
  icon: string,                // ì•„ì´ì½˜ ì´ë¦„
  color: string,               // ìƒ‰ìƒ
  createdAt: timestamp
}
```

#### 4.1.9 gallery (ê°¤ëŸ¬ë¦¬)

```typescript
{
  id: string,
  teacherId: string,
  title: string,               // ì œëª©
  description: string,         // ì„¤ëª…
  images: string[],            // ì´ë¯¸ì§€ URL ë°°ì—´
  date: string,                // ë‚ ì§œ
  category: string,            // ì¹´í…Œê³ ë¦¬
  createdAt: timestamp,
  updatedAt: timestamp
}
```

### 4.2 ë°ì´í„°ë² ì´ìŠ¤ ê´€ê³„ë„

```
teachers (Firebase Auth)
    â”‚
    â”œâ”€â”€â”€â”€ students
    â”‚       â”‚
    â”‚       â”œâ”€â”€â”€â”€ attendance
    â”‚       â”œâ”€â”€â”€â”€ lessonNotes
    â”‚       â””â”€â”€â”€â”€ tuition
    â”‚
    â”œâ”€â”€â”€â”€ notices
    â”‚       â”‚
    â”‚       â””â”€â”€â”€â”€ comments
    â”‚
    â”œâ”€â”€â”€â”€ makeupLessons
    â”œâ”€â”€â”€â”€ activities
    â””â”€â”€â”€â”€ gallery
```

---

## 5. ì¸ì¦ ì‹œìŠ¤í…œ

### 5.1 íšŒì›ê°€ì… í”Œë¡œìš°

#### ì„ ìƒë‹˜ íšŒì›ê°€ì…
1. **ì—­í•  ì„ íƒ** (`RoleSelectScreen.js`)
   - "ì„ ìƒë‹˜" ì„ íƒ

2. **ì„ ìƒë‹˜ ì •ë³´ ì…ë ¥** (`SignupTeacherScreen.js`)
   ```
   - ì´ë©”ì¼
   - ë¹„ë°€ë²ˆí˜¸
   - ì´ë¦„
   - ì „í™”ë²ˆí˜¸
   - í•™ì› ì´ë¦„
   ```

3. **Firebase Auth ê³„ì • ìƒì„±**
   - `authService.signupTeacher()`
   - Firestore `teachers` ì»¬ë ‰ì…˜ì— ì¶”ê°€ ì •ë³´ ì €ì¥

4. **ìë™ ë¡œê·¸ì¸**
   - `authStore` ì—…ë°ì´íŠ¸
   - ì„ ìƒë‹˜ ëŒ€ì‹œë³´ë“œë¡œ ì´ë™

#### í•™ë¶€ëª¨ íšŒì›ê°€ì…
1. **ì—­í•  ì„ íƒ** (`RoleSelectScreen.js`)
   - "í•™ë¶€ëª¨" ì„ íƒ

2. **í•™ë¶€ëª¨ ì •ë³´ ì…ë ¥** (`SignupParentScreen.js`)
   ```
   - ì´ë©”ì¼
   - ë¹„ë°€ë²ˆí˜¸
   - ì´ë¦„
   - ì „í™”ë²ˆí˜¸
   - ìë…€ ì—°ê²° ì½”ë“œ (í–¥í›„ êµ¬í˜„)
   ```

3. **Firebase Auth ê³„ì • ìƒì„±**
   - `authService.signupParent()`
   - Firestore `parents` ì»¬ë ‰ì…˜ì— ì¶”ê°€ (í–¥í›„ êµ¬í˜„)

4. **ìë™ ë¡œê·¸ì¸**
   - `authStore` ì—…ë°ì´íŠ¸
   - í•™ë¶€ëª¨ í™ˆìœ¼ë¡œ ì´ë™

### 5.2 ë¡œê·¸ì¸ í”Œë¡œìš°

**íŒŒì¼**: `src/screens/auth/LoginScreen.js`

1. ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
2. `authService.login()` í˜¸ì¶œ
3. Firebase Auth ê²€ì¦
4. ì‚¬ìš©ì ì •ë³´ ë¡œë“œ
5. `authStore` ì—…ë°ì´íŠ¸
6. ì—­í• ì— ë”°ë¼ ë„¤ë¹„ê²Œì´ì…˜:
   - ì„ ìƒë‹˜ â†’ Teacher Navigator
   - í•™ë¶€ëª¨ â†’ Parent Navigator

### 5.3 ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°

**íŒŒì¼**: `src/screens/auth/FindPasswordScreen.js`

1. ì´ë©”ì¼ ì…ë ¥
2. Firebase Auth `sendPasswordResetEmail()` í˜¸ì¶œ
3. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ ë°œì†¡
4. ì‚¬ìš©ìê°€ ì´ë©”ì¼ ë§í¬ë¡œ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •

### 5.4 ë¡œê·¸ì•„ì›ƒ

```javascript
const logout = async () => {
  await signOut(auth);
  authStore.clearUser();
  navigation.navigate('Login');
};
```

### 5.5 ì¸ì¦ ìƒíƒœ ê´€ë¦¬

**íŒŒì¼**: `src/store/authStore.js`

```javascript
const useAuthStore = create((set) => ({
  user: null,
  isAuthenticated: false,
  loading: true,

  setUser: (user) => set({ user, isAuthenticated: true, loading: false }),
  clearUser: () => set({ user: null, isAuthenticated: false, loading: false }),
  setLoading: (loading) => set({ loading }),
}));
```

---

## 6. ì„ ìƒë‹˜ ê¸°ëŠ¥

### 6.1 ëŒ€ì‹œë³´ë“œ

**íŒŒì¼**: `src/screens/teacher/DashboardScreen.js`

#### ì£¼ìš” ê¸°ëŠ¥
1. **ì˜¤ëŠ˜ì˜ ì¶œì„ í˜„í™©**
   - ì˜¤ëŠ˜ ìˆ˜ì—…ì´ ìˆëŠ” í•™ìƒ ìˆ˜
   - ì¶œì„ ì™„ë£Œ / ë¯¸ì™„ë£Œ
   - ë¹ ë¥¸ ì¶œì„ ì²´í¬ ë§í¬

2. **ë¯¸ìˆ˜ê¸ˆ í•™ìƒ ì•Œë¦¼**
   - ì´ë²ˆ ë‹¬ ë¯¸ë‚© í•™ìƒ ìˆ˜
   - ê¸ˆì•¡ í•©ê³„
   - ë¯¸ìˆ˜ê¸ˆ ê´€ë¦¬ í™”ë©´ìœ¼ë¡œ ì´ë™

3. **ìµœê·¼ í™œë™**
   - ìµœê·¼ 5ê°œ í™œë™ í‘œì‹œ
   - ì•Œë¦¼ì¥ ë°œì†¡, í•™ìƒ ì¶”ê°€, ì¶œì„ ì²´í¬ ë“±

4. **ì£¼ê°„ í†µê³„**
   - ì¶œì„ë¥  ê·¸ë˜í”„
   - í•™ìƒ ìˆ˜ ì¶”ì´

#### ì½”ë“œ ì°¸ì¡°
- ì¶œì„ í˜„í™©: `DashboardScreen.js:120-145`
- ë¯¸ìˆ˜ê¸ˆ ì•Œë¦¼: `DashboardScreen.js:180-210`
- ìµœê·¼ í™œë™: `DashboardScreen.js:245-280`

### 6.2 í•™ìƒ ê´€ë¦¬

#### 6.2.1 í•™ìƒ ëª©ë¡ (`StudentListScreen.js`)

**ì£¼ìš” ê¸°ëŠ¥**:
- ì „ì²´ í•™ìƒ ëª©ë¡ í‘œì‹œ
- ê²€ìƒ‰ (ì´ë¦„, ì „í™”ë²ˆí˜¸)
- í•„í„°ë§:
  - ì¹´í…Œê³ ë¦¬ (ì „ì²´/ì´ˆë“±/ê³ ë“±/ì„±ì¸)
  - ìš”ì¼ (ì „ì²´/ì›”/í™”/ìˆ˜/ëª©/ê¸ˆ/í† /ì¼)
  - ìˆ˜ì¤€ (ì „ì²´/ì´ˆê¸‰/ì¤‘ê¸‰/ê³ ê¸‰)
  - ë¯¸ìˆ˜ê¸ˆ (ì „ì²´/ë¯¸ìˆ˜ê¸ˆë§Œ)

**í•™ìƒ ì¹´ë“œ ì •ë³´**:
- ì´ë¦„, ë ˆë²¨ ë°°ì§€
- ìˆ˜ì—… ì¼ì •
- íšŒì°¨ê¶Œ ì •ë³´ (ë‚¨ì€ íšŸìˆ˜)
- ë¯¸ìˆ˜ê¸ˆ ë°°ì§€ (ìˆëŠ” ê²½ìš°)
- íšŒì°¨ê¶Œ ì†Œì§„ ê²½ê³  (â‰¤2íšŒ ì‹œ ë¹¨ê°„ ë°°ê²½)

**ì½”ë“œ ì°¸ì¡°**:
- ê²€ìƒ‰ ë¡œì§: `StudentListScreen.js:85-105`
- í•„í„°ë§: `StudentListScreen.js:150-180`
- í•™ìƒ ì¹´ë“œ: `src/components/teacher/StudentCard.js`

#### 6.2.2 í•™ìƒ ì¶”ê°€/ìˆ˜ì • (`StudentFormScreen.js`)

**ì…ë ¥ í•„ë“œ**:
```
- í•™ìƒ ì´ë¦„ *
- í•™ë¶€ëª¨ ì´ë¦„
- í•™ë¶€ëª¨ ì—°ë½ì²˜
- ìˆ˜ì¤€ (ì´ˆê¸‰/ì¤‘ê¸‰/ê³ ê¸‰) *
- ì¹´í…Œê³ ë¦¬ (ì´ˆë“±/ê³ ë“±/ì„±ì¸) *
- ìˆ˜ì—… ì¼ì • * (ì˜ˆ: ì›”/ìˆ˜ 16:00)
- ìˆ˜ê°•ê¶Œ ì¢…ë¥˜ (íšŒì°¨ê¶Œ/ê¸°ê°„ê¶Œ) *
- íšŒì°¨ê¶Œ íšŸìˆ˜ ë˜ëŠ” ê¸°ê°„
- ì›” ìˆ˜ê°•ë£Œ
- ë‚©ë¶€ì¼
- ë©”ëª¨
```

**ìœ íš¨ì„± ê²€ì‚¬**:
- í•„ìˆ˜ í•­ëª© ì²´í¬
- ì „í™”ë²ˆí˜¸ í˜•ì‹ ê²€ì¦
- ìˆ˜ê°•ë£Œ ìˆ«ì ê²€ì¦

**ì½”ë“œ ì°¸ì¡°**:
- í¼ ê²€ì¦: `StudentFormScreen.js:120-150`
- ì €ì¥: `StudentFormScreen.js:180-220`

#### 6.2.3 í•™ìƒ ìƒì„¸ (`StudentDetailScreen.js`)

**íƒ­ êµ¬ì¡°**:
1. **í•™ìƒ ì •ë³´**
   - ê¸°ë³¸ ì •ë³´
   - ìˆ˜ì—… ì¼ì •
   - ì „ë°˜ ë©”ëª¨
   - ìµœê·¼ ìˆ˜ì—… ì¼ì§€ (5ê°œ)

2. **ì¶œì„ ê¸°ë¡**
   - ì›”ë³„ ì¶œì„ í˜„í™©
   - ì¶œì„ë¥  í‘œì‹œ
   - ì¶œì„ íˆìŠ¤í† ë¦¬

3. **ìˆ˜ê°•ë£Œ**
   - íšŒì°¨ê¶Œ/ê¸°ê°„ê¶Œ ê´€ë¦¬
   - íšŒì°¨ê¶Œ ì¶©ì „ ë²„íŠ¼ (+4íšŒ, +8íšŒ, +12íšŒ)
   - ë‚©ë¶€ ê¸°ë¡

**ì£¼ìš” ê¸°ëŠ¥**:
- íšŒì°¨ê¶Œ íƒ€ì… ë³€ê²½ ëª¨ë‹¬
- íšŒì°¨ê¶Œ ì¶©ì „
- ìˆ˜ì—… ì¼ì§€ ì‘ì„± ë°”ë¡œê°€ê¸°
- í•™ìƒ ì •ë³´ ìˆ˜ì •
- í•™ìƒ ì‚­ì œ

**ì½”ë“œ ì°¸ì¡°**:
- íšŒì°¨ê¶Œ ê´€ë¦¬: `StudentDetailScreen.js:220-265`
- ìˆ˜ì—… ì¼ì§€ í†µí•©: `StudentDetailScreen.js:366-448`

### 6.3 ì¶œì„ ê´€ë¦¬

**íŒŒì¼**: `src/screens/teacher/AttendanceScreen.js`

#### ì£¼ìš” ê¸°ëŠ¥

1. **ë‚ ì§œ ì„ íƒ**
   - ë‚ ì§œ í”¼ì»¤ë¡œ ì¡°íšŒ ë‚ ì§œ ë³€ê²½
   - í•´ë‹¹ ë‚ ì§œì˜ ìˆ˜ì—…ì´ ìˆëŠ” í•™ìƒë§Œ í‘œì‹œ

2. **ì§„í–‰ë¥  ì¹´ë“œ**
   - ì „ì²´ ì¶œì„ ì²´í¬ ì§„í–‰ë¥  (%)
   - ì²´í¬ ì™„ë£Œ / ì „ì²´
   - ì¶œì„ / ê²°ì„ / ë³´ê°• í†µê³„

3. **ì¼ê´„ ì²˜ë¦¬**
   - "ì „ì²´ ì¶œì„" ë²„íŠ¼: ëª¨ë“  í•™ìƒ ì¶œì„ ì²˜ë¦¬
   - "ë¯¸ì²´í¬ë§Œ ì¶œì„" ë²„íŠ¼: ë¯¸ì²´í¬ í•™ìƒë§Œ ì¶œì„

4. **ì‹œê°„ëŒ€ë³„ ê·¸ë£¹í•‘**
   - ìˆ˜ì—… ì‹œê°„ë³„ë¡œ í•™ìƒ ê·¸ë£¹í™”
   - ê° ê·¸ë£¹ ì ‘ê¸°/í¼ì¹˜ê¸° ê°€ëŠ¥
   - ê·¸ë£¹ë³„ ì§„í–‰ë¥  í‘œì‹œ

5. **ì¶œì„ ì²´í¬**
   - ì¶œì„ / ê²°ì„ / ë³´ê°• ë²„íŠ¼
   - **íšŒì°¨ê¶Œ ìë™ ì°¨ê°** (ì¶œì„ ì‹œ)
   - ë‚¨ì€ íšŸìˆ˜ ê²½ê³  (â‰¤2íšŒ)
   - ì†Œì§„ ê²½ê³  (0íšŒ)

6. **ìˆ˜ì—… ì¼ì§€ ìë™ íŒì—…**
   - ì¶œì„ ì²´í¬ í›„ ìˆ˜ì—… ì¼ì§€ ëª¨ë‹¬ ìë™ í‘œì‹œ
   - AI ë©”ëª¨ ìƒì„± ê°€ëŠ¥

7. **ì´ë²ˆ ì£¼ ë³´ê°• ì˜ˆì •**
   - í•˜ë‹¨ì— ì´ë²ˆ ì£¼ ë³´ê°• ìˆ˜ì—… ëª©ë¡
   - ì™„ë£Œ ì²˜ë¦¬ ë²„íŠ¼

#### íšŒì°¨ê¶Œ ì°¨ê° ë¡œì§

**ì½”ë“œ ì°¸ì¡°**: `AttendanceScreen.js:213-232`

```javascript
// ì¶œì„ ì²˜ë¦¬ ì‹œ
if (status === 'present' && fullStudent?.ticketType === 'count') {
  const currentCount = fullStudent.ticketCount || 0;

  if (currentCount <= 0) {
    toast.warning('íšŒì°¨ê¶Œì´ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤!');
  } else {
    const newCount = currentCount - 1;
    await updateStudent(studentId, { ticketCount: newCount });

    if (newCount === 0) {
      toast.warning('íšŒì°¨ê¶Œì´ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤!');
    } else if (newCount <= 2) {
      toast.warning(`ë‚¨ì€ íšŸìˆ˜: ${newCount}íšŒ`);
    }
  }
}
```

#### Firebase ì €ì¥

```javascript
await AttendanceRepository.create({
  studentId,
  studentName,
  date: formatDate(selectedDate),
  status: 'present' | 'absent' | 'makeup',
  note: ''
});
```

### 6.4 ì•Œë¦¼ì¥ ì‹œìŠ¤í…œ

#### 6.4.1 ì•Œë¦¼ì¥ ëª©ë¡ (`NoticeListScreen.js`)

**ì£¼ìš” ê¸°ëŠ¥**:
- ë°œì†¡í•œ ì•Œë¦¼ì¥ ëª©ë¡
- í™•ì¸ í˜„í™© í‘œì‹œ (ì½ìŒ/ì „ì²´)
- ë‚ ì§œ/ì‹œê°„ í‘œì‹œ
- ìƒì„¸ ë³´ê¸°
- ìƒˆ ì•Œë¦¼ì¥ ì‘ì„± ë²„íŠ¼

#### 6.4.2 ì•Œë¦¼ì¥ ì‘ì„± (`NoticeCreateScreen.js`)

**ì‘ì„± í”„ë¡œì„¸ìŠ¤**:

1. **í…œí”Œë¦¿ ì„ íƒ**
   ```
   ğŸ“ ë°œí‘œíšŒ
   ğŸ“… íœ´ê°• ì•ˆë‚´
   ğŸ’° ìˆ˜ê°•ë£Œ
   âœï¸ ì§ì ‘ ì…ë ¥
   ```

2. **AI ìš”ì²­ (ì„ íƒ)**
   - ìš”ì²­ ë‚´ìš© ì…ë ¥
   - "AIë¡œ ì‘ì„±í•˜ê¸°" ë²„íŠ¼
   - Google Geminiê°€ ì œëª© + ë‚´ìš© ìƒì„±
   - "ë” ì¹œì ˆí•˜ê²Œ" / "ë” ê°„ê²°í•˜ê²Œ" ê°œì„  ë²„íŠ¼

3. **ì‚¬ì§„/ë™ì˜ìƒ ì²¨ë¶€ (ì„ íƒ)**
   - ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒ ë˜ëŠ” ì¹´ë©”ë¼ ì´¬ì˜
   - ìµœëŒ€ 5ê°œ
   - ë¯¸ë¦¬ë³´ê¸° ì¸ë„¤ì¼
   - ê°œë³„ ì‚­ì œ ê°€ëŠ¥

4. **ìˆ˜ì‹ ì ì„ íƒ**
   - í•™ìƒ ëª©ë¡ í‘œì‹œ
   - í•„í„°ë§ (ì¹´í…Œê³ ë¦¬, ìš”ì¼)
   - ê°œë³„ ì„ íƒ / ì „ì²´ ì„ íƒ
   - ì„ íƒëœ í•™ìƒ ìˆ˜ í‘œì‹œ

5. **ë°œì†¡**
   - Firebase Storageì— ë¯¸ë””ì–´ ì—…ë¡œë“œ
   - Firestoreì— ì•Œë¦¼ì¥ ì €ì¥
   - **í‘¸ì‹œ ì•Œë¦¼ ìë™ ì „ì†¡**
   - í™œë™ ë¡œê·¸ ê¸°ë¡

**AI í†µí•©** (`geminiService.js`):
```javascript
const result = await generateNoticeContent(prompt, templateType);
// returns: { success, title, content }
```

**ì½”ë“œ ì°¸ì¡°**:
- AI ìƒì„±: `NoticeCreateScreen.js:120-158`
- ë¯¸ë””ì–´ ì—…ë¡œë“œ: `NoticeCreateScreen.js:226-244`
- ë°œì†¡: `NoticeCreateScreen.js:214-306`

#### 6.4.3 ì•Œë¦¼ì¥ ìƒì„¸ (`NoticeDetailScreen.js`)

**í‘œì‹œ ì •ë³´**:
1. **ë°œì†¡ ì •ë³´**
   - ë°œì†¡ì¼ì‹œ
   - í™•ì¸ í˜„í™© (ì½ìŒ/ì „ì²´)

2. **ë‚´ìš©**
   - ì œëª©
   - ë³¸ë¬¸
   - ì²¨ë¶€ ë¯¸ë””ì–´ (3ì—´ ê·¸ë¦¬ë“œ)

3. **ë¯¸í™•ì¸ í•™ë¶€ëª¨**
   - ì½ì§€ ì•Šì€ í•™ìƒ/í•™ë¶€ëª¨ ëª©ë¡
   - ì´ë¦„, ì—°ë½ì²˜ í‘œì‹œ
   - ì£¼í™©ìƒ‰ ê²½ê³  ë°•ìŠ¤

4. **ëŒ“ê¸€ ì„¹ì…˜**
   - í•™ë¶€ëª¨ê°€ ì‘ì„±í•œ ëŒ“ê¸€
   - ì„ ìƒë‹˜ ë‹µê¸€
   - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
   - ëŒ“ê¸€ ì‚­ì œ (ë³¸ì¸ë§Œ)

**ì•¡ì…˜ ë²„íŠ¼**:
- "ë¯¸í™•ì¸ìì—ê²Œ ì¬ë°œì†¡" (í–¥í›„ êµ¬í˜„)
- "ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°"
- ìˆ˜ì • / ì‚­ì œ

**ì½”ë“œ ì°¸ì¡°**:
- ë¯¸í™•ì¸ í•™ë¶€ëª¨: `NoticeDetailScreen.js:184-212`
- ëŒ“ê¸€ ì„¹ì…˜: `NoticeDetailScreen.js:214-220`

### 6.5 ìˆ˜ì—… ì¼ì§€

**íŒŒì¼**: `src/screens/teacher/LessonNoteScreen.js`

#### ì£¼ìš” ê¸°ëŠ¥

1. **ëª©ë¡ ì¡°íšŒ**
   - ì „ì²´ ìˆ˜ì—… ì¼ì§€ ëª©ë¡
   - í•™ìƒë³„ í•„í„°ë§
   - ë‚ ì§œë³„ ì •ë ¬

2. **ìˆ˜ì—… ì¼ì§€ ì‘ì„±** (`LessonNoteModal.js`)
   ```
   - í•™ìƒ ì„ íƒ
   - ë‚ ì§œ ì„ íƒ
   - ì§„ë„ ì…ë ¥
   - ì—°ìŠµ ê³¼ì œ ì…ë ¥
   - ë©”ëª¨ ì…ë ¥ (AI ìƒì„± ê°€ëŠ¥)
   ```

3. **AI ë©”ëª¨ ìƒì„±**
   - "AI ë©”ëª¨ ìƒì„±" ë²„íŠ¼
   - ì§„ë„ì™€ ì—°ìŠµ ê³¼ì œ ê¸°ë°˜ìœ¼ë¡œ ìë™ ìƒì„±
   - Google Gemini í™œìš©

4. **ì¶œì„ ì²´í¬ ì—°ë™**
   - ì¶œì„ ì²´í¬ í›„ ìë™ìœ¼ë¡œ ìˆ˜ì—… ì¼ì§€ ëª¨ë‹¬ í‘œì‹œ
   - ë¹ ë¥¸ ê¸°ë¡ ê°€ëŠ¥

**AI ë©”ëª¨ ìƒì„± ë¡œì§** (`geminiService.js`):
```javascript
const result = await generateLessonMemo({
  studentName,
  progress,
  practice
});
// returns: { success, memo }
```

**ì½”ë“œ ì°¸ì¡°**:
- ìˆ˜ì—… ì¼ì§€ ëª¨ë‹¬: `src/components/teacher/LessonNoteModal.js`
- AI ìƒì„±: `LessonNoteModal.js:85-120`

### 6.6 ìˆ˜ê°•ë£Œ ê´€ë¦¬

#### 6.6.1 ë¯¸ìˆ˜ê¸ˆ í•™ìƒ (`UnpaidStudentsScreen.js`)

**ì£¼ìš” ê¸°ëŠ¥**:
- ì´ë²ˆ ë‹¬ ë¯¸ë‚© í•™ìƒ ëª©ë¡
- ì´ ë¯¸ìˆ˜ê¸ˆ ê¸ˆì•¡
- í•™ìƒë³„ ìƒì„¸ ì •ë³´:
  - ì´ë¦„, ë ˆë²¨
  - ë¯¸ë‚© ê¸ˆì•¡
  - í•™ë¶€ëª¨ ì—°ë½ì²˜
  - ì „í™” ê±¸ê¸° ë²„íŠ¼

**í•„í„°ë§**:
- ì¹´í…Œê³ ë¦¬ë³„
- ê¸ˆì•¡ ìˆœ ì •ë ¬

#### 6.6.2 ìˆ˜ê°•ë£Œ ê´€ë¦¬ (`TuitionScreen.js`)

**ì£¼ìš” ê¸°ëŠ¥**:
- ì „ì²´ ìˆ˜ê°•ë£Œ ë‚´ì—­
- ì›”ë³„ ì¡°íšŒ
- ë‚©ë¶€/ë¯¸ë‚© í•„í„°
- ìˆ˜ê°•ë£Œ ì…ë ¥/ìˆ˜ì •

### 6.7 í†µê³„

**íŒŒì¼**: `src/screens/teacher/StatisticsScreen.js`

**ì œê³µ í†µê³„**:
1. **ì¶œì„ë¥ **
   - ì›”ë³„ ì¶œì„ë¥  ê·¸ë˜í”„
   - í•™ìƒë³„ ì¶œì„ë¥ 

2. **ìˆ˜ê°•ë£Œ í˜„í™©**
   - ì›”ë³„ ìˆ˜ì… ê·¸ë˜í”„
   - ë‚©ë¶€ìœ¨

3. **í•™ìƒ í˜„í™©**
   - ë ˆë²¨ë³„ ë¶„í¬
   - ì¹´í…Œê³ ë¦¬ë³„ ë¶„í¬
   - ìš”ì¼ë³„ ë¶„í¬

### 6.8 ê¸°íƒ€ ê¸°ëŠ¥

#### í”„ë¡œí•„ (`ProfileScreen.js`)
- ì„ ìƒë‹˜ ì •ë³´ ì¡°íšŒ/ìˆ˜ì •
- í•™ì› ì •ë³´
- ë¡œê·¸ì•„ì›ƒ

---

## 7. í•™ë¶€ëª¨ ê¸°ëŠ¥

### 7.1 í™ˆ ëŒ€ì‹œë³´ë“œ

**íŒŒì¼**: `src/screens/parent/HomeScreen.js`

**ì£¼ìš” ì •ë³´**:
1. **ìë…€ ì •ë³´ ìš”ì•½**
   - ì´ë¦„, ë ˆë²¨
   - ìˆ˜ì—… ì¼ì •
   - ë‚¨ì€ íšŒì°¨ (íšŒì°¨ê¶Œì¸ ê²½ìš°)

2. **ì´ë²ˆ ì£¼ ì¶œì„**
   - ì¶œì„ / ê²°ì„ í˜„í™©
   - ì¶œì„ë¥ 

3. **ìµœê·¼ ì•Œë¦¼ì¥**
   - ìµœê·¼ 3ê°œ ì•Œë¦¼ì¥
   - ì½ì§€ ì•Šì€ ì•Œë¦¼ì¥ ê°•ì¡°

4. **ë‹¤ìŒ ìˆ˜ì—…**
   - ë‹¤ìŒ ìˆ˜ì—… ë‚ ì§œ/ì‹œê°„

### 7.2 ì¶œì„ ì¡°íšŒ

**íŒŒì¼**: `src/screens/parent/AttendanceScreen.js`

**ì£¼ìš” ê¸°ëŠ¥**:
1. **ì›”ë³„ ì¶œì„ í˜„í™©**
   - ë‹¬ë ¥ ë·°
   - ì¶œì„ / ê²°ì„ / ë³´ê°• í‘œì‹œ
   - ì¶œì„ë¥  í†µê³„

2. **ì¶œì„ íˆìŠ¤í† ë¦¬**
   - ë‚ ì§œë³„ ì¶œì„ ê¸°ë¡
   - ë©”ëª¨ í™•ì¸

### 7.3 ì•Œë¦¼ì¥

**íŒŒì¼**: `src/screens/parent/NoticeScreen.js`

#### ì£¼ìš” ê¸°ëŠ¥

1. **ì•Œë¦¼ì¥ ëª©ë¡**
   - ì „ì²´ ì•Œë¦¼ì¥ ì¹´ë“œ
   - ì½ìŒ/ì•ˆì½ìŒ êµ¬ë¶„
   - **NEW ë°°ì§€** (ì•ˆì½ì€ ì•Œë¦¼ì¥)
   - ë³´ë¼ìƒ‰ í…Œë‘ë¦¬ (ì•ˆì½ìŒ)

2. **ì½ì§€ ì•Šì€ ì•Œë¦¼ì¥ ë°°ë„ˆ**
   - ìƒë‹¨ì— ì¹´ìš´íŠ¸ í‘œì‹œ
   - "ì½ì§€ ì•Šì€ ì•Œë¦¼ì¥ì´ Nê°œ ìˆìŠµë‹ˆë‹¤"

3. **ì•Œë¦¼ì¥ ìƒì„¸ ëª¨ë‹¬**
   - ì œëª©, ë‚´ìš©
   - ì²¨ë¶€ ë¯¸ë””ì–´ (3ì—´ ê·¸ë¦¬ë“œ)
   - ë°œì†¡ ë‚ ì§œ/ì‹œê°„
   - **ìë™ ì½ìŒ ì²˜ë¦¬**

4. **ëŒ“ê¸€ ì‘ì„±**
   - ëŒ“ê¸€ ëª©ë¡ (ì‹¤ì‹œê°„)
   - ëŒ“ê¸€ ì‘ì„± (500ì ì œí•œ)
   - ì„ ìƒë‹˜ ë‹µê¸€ í™•ì¸
   - ë³¸ì¸ ëŒ“ê¸€ ì‚­ì œ

5. **Pull to Refresh**
   - ì•„ë˜ë¡œ ë‹¹ê²¨ì„œ ìƒˆë¡œê³ ì¹¨

**ìë™ ì½ìŒ ì²˜ë¦¬** (`NoticeScreen.js:49-62`):
```javascript
const handleNoticePress = async (notice) => {
  setSelectedNotice(notice);
  setShowDetailModal(true);

  if (!notice.isRead) {
    await markNoticeAsRead(notice.id, studentId);
    loadNotices(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
  }
};
```

**ì½”ë“œ ì°¸ì¡°**:
- ì½ìŒ í™•ì¸: `NoticeScreen.js:27-46`
- ëŒ“ê¸€ ì„¹ì…˜: `NoticeScreen.js:251-255`

### 7.4 ìˆ˜ì—… ì¼ì§€

**íŒŒì¼**: `src/screens/parent/LessonNoteScreen.js`

**ì£¼ìš” ê¸°ëŠ¥**:
- ìë…€ì˜ ìˆ˜ì—… ì¼ì§€ ì¡°íšŒ
- ë‚ ì§œë³„ ì§„ë„ í™•ì¸
- ì—°ìŠµ ê³¼ì œ í™•ì¸
- ì„ ìƒë‹˜ ë©”ëª¨ í™•ì¸

### 7.5 ê¸°íƒ€ ê¸°ëŠ¥

#### ìë…€ ì •ë³´ (`ChildInfoScreen.js`)
- ê¸°ë³¸ ì •ë³´
- ìˆ˜ì—… ì¼ì •
- ìˆ˜ê°•ê¶Œ ì •ë³´

#### ìˆ˜ê°•ë£Œ (`TuitionScreen.js`)
- ë‚©ë¶€ ë‚´ì—­ ì¡°íšŒ
- ì´ë²ˆ ë‹¬ ë‚©ë¶€ í˜„í™©

#### ì§„ë„ í˜„í™© (`ProgressScreen.js`)
- í•™ìŠµ ì§„ë„ ì°¨íŠ¸ (í–¥í›„ êµ¬í˜„)
- ëª©í‘œ ë‹¬ì„±ë¥ 

#### ê°¤ëŸ¬ë¦¬ (`GalleryScreen.js`)
- í•™ì› í–‰ì‚¬ ì‚¬ì§„
- ë°œí‘œíšŒ ì‚¬ì§„ ë“±

---

## 8. ì„œë¹„ìŠ¤ ë° API

### 8.1 firestoreService.js

**íŒŒì¼**: `src/services/firestoreService.js` (ì•½ 1600ì¤„)

#### 8.1.1 í•™ìƒ ê´€ë¦¬

```javascript
// ì „ì²´ í•™ìƒ ëª©ë¡
export const getAllStudents = async (teacherId, options = {})

// í•™ìƒ ìƒì„¸ ì¡°íšŒ
export const getStudentById = async (studentId)

// í•™ìƒ ì¶”ê°€
export const createStudent = async (studentData, teacherId)

// í•™ìƒ ìˆ˜ì •
export const updateStudent = async (studentId, studentData)

// í•™ìƒ ì‚­ì œ
export const deleteStudent = async (studentId)
```

#### 8.1.2 ì¶œì„ ê´€ë¦¬

```javascript
// ì¶œì„ ê¸°ë¡ ìƒì„±
export const createAttendance = async (attendanceData, teacherId)

// ë‚ ì§œë³„ ì¶œì„ ì¡°íšŒ
export const getAttendanceByDate = async (teacherId, date)

// í•™ìƒë³„ ì¶œì„ ì¡°íšŒ
export const getAttendanceByStudent = async (studentId, options = {})

// ì¶œì„ í†µê³„
export const getAttendanceStats = async (teacherId, startDate, endDate)
```

#### 8.1.3 ìˆ˜ì—… ì¼ì§€

```javascript
// ìˆ˜ì—… ì¼ì§€ ìƒì„±
export const createLessonNote = async (lessonNoteData, teacherId)

// ìˆ˜ì—… ì¼ì§€ ì¡°íšŒ
export const getLessonNotes = async (teacherId, options = {})

// í•™ìƒë³„ ìˆ˜ì—… ì¼ì§€
export const getLessonNotesByStudent = async (studentId, options = {})

// ìˆ˜ì—… ì¼ì§€ ìˆ˜ì •
export const updateLessonNote = async (lessonNoteId, lessonNoteData)
```

#### 8.1.4 ì•Œë¦¼ì¥ ê´€ë¦¬

```javascript
// ì•Œë¦¼ì¥ ìƒì„±
export const createNotice = async (noticeData, teacherId)

// ì•Œë¦¼ì¥ ëª©ë¡
export const getAllNotices = async (teacherId, options = {})

// ì•Œë¦¼ì¥ ìƒì„¸
export const getNoticeById = async (noticeId)

// ì•Œë¦¼ì¥ ì‚­ì œ
export const deleteNotice = async (noticeId)

// ì½ìŒ ì²˜ë¦¬
export const markNoticeAsRead = async (noticeId, studentId)

// í•™ìƒë³„ ì•Œë¦¼ì¥ ì¡°íšŒ (í•™ë¶€ëª¨ìš©)
export const getNoticesForStudent = async (studentId, teacherId = null)

// ì•ˆì½ì€ ì•Œë¦¼ì¥ ì¡°íšŒ
export const getUnreadNotices = async (studentId, teacherId)
```

#### 8.1.5 ëŒ“ê¸€ ê´€ë¦¬

```javascript
// ëŒ“ê¸€ ì‘ì„±
export const createComment = async (noticeId, commentData)

// ëŒ“ê¸€ ëª©ë¡
export const getCommentsByNotice = async (noticeId)

// ëŒ“ê¸€ ì‚­ì œ
export const deleteComment = async (commentId)

// ëŒ“ê¸€ ì‹¤ì‹œê°„ êµ¬ë…
export const subscribeToComments = (noticeId, callback)
```

#### 8.1.6 Firebase Storage

```javascript
// ë‹¨ì¼ ë¯¸ë””ì–´ ì—…ë¡œë“œ
export const uploadMedia = async (uri, folder, fileName, onProgress = null)

// ì—¬ëŸ¬ ë¯¸ë””ì–´ ì¼ê´„ ì—…ë¡œë“œ
export const uploadMultipleMedia = async (mediaItems, folder, onProgress = null)

// ë¯¸ë””ì–´ ì‚­ì œ
export const deleteMedia = async (downloadURL)
```

### 8.2 geminiService.js

**íŒŒì¼**: `src/services/geminiService.js`

#### 8.2.1 AI ë©”ëª¨ ìƒì„±

```javascript
/**
 * ìˆ˜ì—… ì¼ì§€ ë©”ëª¨ ìë™ ìƒì„±
 * @param {Object} data - { studentName, progress, practice }
 * @returns {Promise<Object>} { success, memo }
 */
export const generateLessonMemo = async (data)
```

**ì‚¬ìš© ì˜ˆ**:
```javascript
const result = await generateLessonMemo({
  studentName: "í™ê¸¸ë™",
  progress: "ì²´ë¥´ë‹ˆ 30ë²ˆ 5ë²ˆ",
  practice: "ì²´ë¥´ë‹ˆ 30ë²ˆ 6ë²ˆ, ìŠ¤ì¼€ì¼ ì—°ìŠµ"
});

// result.memo: "ì˜¤ëŠ˜ í™ê¸¸ë™ í•™ìƒì€ ì²´ë¥´ë‹ˆ 30ë²ˆ 5ë²ˆì„ í•™ìŠµí–ˆìŠµë‹ˆë‹¤..."
```

#### 8.2.2 ì•Œë¦¼ì¥ ìƒì„±

```javascript
/**
 * ì•Œë¦¼ì¥ ë‚´ìš© ìë™ ìƒì„±
 * @param {string} prompt - ì‚¬ìš©ì ìš”ì²­
 * @param {string} templateType - í…œí”Œë¦¿ ìœ í˜•
 * @returns {Promise<Object>} { success, title, content }
 */
export const generateNoticeContent = async (prompt, templateType = null)
```

**ì‚¬ìš© ì˜ˆ**:
```javascript
const result = await generateNoticeContent(
  "12ì›” 25ì¼ ì˜¤í›„ 2ì‹œì— í•™ì› ì—°ì£¼í™€ì—ì„œ ë°œí‘œíšŒë¥¼ í•©ë‹ˆë‹¤",
  "ë°œí‘œíšŒ"
);

// result.title: "[ë°œí‘œíšŒ ì•ˆë‚´]"
// result.content: "ì•ˆë…•í•˜ì„¸ìš”, í•™ë¶€ëª¨ë‹˜..."
```

#### 8.2.3 ì•Œë¦¼ì¥ ê°œì„ 

```javascript
/**
 * ì•Œë¦¼ì¥ ë‚´ìš© ê°œì„ 
 * @param {string} content - ì›ë³¸ ë‚´ìš©
 * @param {string} direction - 'friendly' | 'concise'
 * @returns {Promise<Object>} { success, content }
 */
export const improveNoticeContent = async (content, direction)
```

### 8.3 pushNotificationService.js

**íŒŒì¼**: `src/services/pushNotificationService.js`

#### 8.3.1 í‘¸ì‹œ í† í° ê´€ë¦¬

```javascript
// í‘¸ì‹œ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ ë° í† í° ë“±ë¡
export const registerForPushNotifications = async ()

// í‘¸ì‹œ í† í° Firestore ì €ì¥
export const savePushToken = async (userId, token, userType = 'parent')
```

#### 8.3.2 ì•Œë¦¼ ì „ì†¡

```javascript
// í‘¸ì‹œ ì•Œë¦¼ ì „ì†¡
export const sendPushNotification = async (pushTokens, notification)

// ì•Œë¦¼ì¥ ë°œì†¡ ì•Œë¦¼
export const sendNoticeNotification = async (studentIds, noticeTitle)

// ëŒ“ê¸€ ì‘ì„± ì•Œë¦¼
export const sendCommentNotification = async (
  noticeId,
  commenterName,
  recipientId,
  recipientType = 'teacher'
)
```

**ì‚¬ìš© ì˜ˆ**:
```javascript
// ì•Œë¦¼ì¥ ë°œì†¡ ì‹œ
await sendNoticeNotification(
  ['student1', 'student2'],
  '[ë°œí‘œíšŒ ì•ˆë‚´] 12ì›” 25ì¼ ë°œí‘œíšŒ'
);

// í•™ë¶€ëª¨ ë””ë°”ì´ìŠ¤ì— í‘¸ì‹œ ì•Œë¦¼:
// ì œëª©: "ìƒˆ ì•Œë¦¼ì¥ì´ ë„ì°©í–ˆì–´ìš” ğŸ“"
// ë‚´ìš©: "[ë°œí‘œíšŒ ì•ˆë‚´] 12ì›” 25ì¼ ë°œí‘œíšŒ"
```

#### 8.3.3 ì•Œë¦¼ ë¦¬ìŠ¤ë„ˆ

```javascript
// ì•Œë¦¼ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
export const setupNotificationListeners = (onNotification, onNotificationResponse)
```

### 8.4 ê¸°íƒ€ ì„œë¹„ìŠ¤

#### authService.js
```javascript
export const login = async (email, password)
export const signupTeacher = async (email, password, userData)
export const signupParent = async (email, password, userData)
export const logout = async ()
export const resetPassword = async (email)
```

#### dashboardService.js
```javascript
export const getDashboardStats = async (teacherId)
export const getTodayClasses = async (teacherId)
export const getUnpaidStudents = async (teacherId)
export const getRecentActivities = async (teacherId, limit = 5)
```

---

## 9. ìƒíƒœ ê´€ë¦¬

**ë””ë ‰í† ë¦¬**: `src/store/`

### 9.1 authStore.js

```javascript
const useAuthStore = create((set) => ({
  user: null,
  isAuthenticated: false,
  loading: true,

  setUser: (user) => set({
    user,
    isAuthenticated: true,
    loading: false
  }),

  clearUser: () => set({
    user: null,
    isAuthenticated: false,
    loading: false
  }),

  setLoading: (loading) => set({ loading }),
}));
```

### 9.2 studentStore.js

```javascript
const useStudentStore = create((set, get) => ({
  students: [],
  loading: false,
  error: null,

  fetchStudents: async () => {
    set({ loading: true });
    const result = await StudentRepository.getAll();
    set({ students: result.data, loading: false });
  },

  addStudent: async (studentData) => {
    const result = await StudentRepository.create(studentData);
    if (result.success) {
      set({ students: [...get().students, result.data] });
    }
  },

  updateStudent: async (id, studentData) => {
    const result = await StudentRepository.update(id, studentData);
    if (result.success) {
      set({
        students: get().students.map(s =>
          s.id === id ? { ...s, ...studentData } : s
        )
      });
    }
  },

  deleteStudent: async (id) => {
    const result = await StudentRepository.delete(id);
    if (result.success) {
      set({ students: get().students.filter(s => s.id !== id) });
    }
  },
}));
```

### 9.3 attendanceStore.js

```javascript
const useAttendanceStore = create((set) => ({
  attendanceData: [],
  loading: false,

  fetchAttendance: async (date) => {
    set({ loading: true });
    const result = await AttendanceRepository.getByDate(date);
    set({ attendanceData: result.data, loading: false });
  },

  createAttendance: async (attendanceData) => {
    const result = await AttendanceRepository.create(attendanceData);
    return result;
  },
}));
```

### 9.4 noticeStore.js

```javascript
const useNoticeStore = create((set) => ({
  notices: [],
  loading: false,

  fetchNotices: async () => {
    set({ loading: true });
    const result = await NoticeRepository.getAll();
    set({ notices: result.data, loading: false });
  },

  createNotice: async (noticeData) => {
    set({ loading: true });
    const result = await NoticeRepository.create(noticeData);
    set({ loading: false });
    return result;
  },
}));
```

### 9.5 lessonNoteStore.js

```javascript
const useLessonNoteStore = create((set) => ({
  lessonNotes: [],
  loading: false,

  fetchLessonNotes: async () => {
    set({ loading: true });
    const result = await LessonNoteRepository.getAll();
    set({ lessonNotes: result.data, loading: false });
  },

  createLessonNote: async (noteData) => {
    const result = await LessonNoteRepository.create(noteData);
    return result;
  },
}));
```

### 9.6 toastStore.js

```javascript
const useToastStore = create((set) => ({
  toasts: [],

  success: (message) => {
    set((state) => ({
      toasts: [...state.toasts, { type: 'success', message, id: Date.now() }]
    }));
  },

  error: (message) => {
    set((state) => ({
      toasts: [...state.toasts, { type: 'error', message, id: Date.now() }]
    }));
  },

  warning: (message) => {
    set((state) => ({
      toasts: [...state.toasts, { type: 'warning', message, id: Date.now() }]
    }));
  },

  info: (message) => {
    set((state) => ({
      toasts: [...state.toasts, { type: 'info', message, id: Date.now() }]
    }));
  },

  removeToast: (id) => {
    set((state) => ({
      toasts: state.toasts.filter(t => t.id !== id)
    }));
  },
}));
```

---

## 10. ì„¤ì¹˜ ë° ì„¤ì •

### 10.1 í™˜ê²½ ìš”êµ¬ì‚¬í•­

- **Node.js**: v18 ì´ìƒ
- **npm**: v9 ì´ìƒ
- **Expo CLI**: ìµœì‹  ë²„ì „
- **iOS Simulator** ë˜ëŠ” **Android Emulator** (ê°œë°œìš©)
- **Expo Go** ì•± (ì‹¤ì œ ë””ë°”ì´ìŠ¤ í…ŒìŠ¤íŠ¸ìš©)

### 10.2 ì„¤ì¹˜ ë°©ë²•

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd piano-academy-app

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼ ìƒì„±)
cp .env.example .env

# 4. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm start
```

### 10.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

**íŒŒì¼**: `.env`

```env
# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# Google Gemini API
EXPO_PUBLIC_GEMINI_API_KEY=your_gemini_api_key

# Expo Project
EXPO_PUBLIC_PROJECT_ID=your_expo_project_id
```

### 10.4 Firebase ì„¤ì •

#### 10.4.1 Firebase í”„ë¡œì íŠ¸ ìƒì„±

1. [Firebase Console](https://console.firebase.google.com/) ì ‘ì†
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. ì›¹ ì•± ì¶”ê°€
4. êµ¬ì„± ì •ë³´ë¥¼ `.env`ì— ë³µì‚¬

#### 10.4.2 Firestore ì„¤ì •

1. Firestore Database ìƒì„± (í…ŒìŠ¤íŠ¸ ëª¨ë“œ)
2. ë³´ì•ˆ ê·œì¹™ ì„¤ì •:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // í•™ìƒ ì»¬ë ‰ì…˜
    match /students/{studentId} {
      allow read, write: if request.auth != null;
    }

    // ì¶œì„ ì»¬ë ‰ì…˜
    match /attendance/{attendanceId} {
      allow read, write: if request.auth != null;
    }

    // ì•Œë¦¼ì¥ ì»¬ë ‰ì…˜
    match /notices/{noticeId} {
      allow read, write: if request.auth != null;
    }

    // ëŒ“ê¸€ ì»¬ë ‰ì…˜
    match /comments/{commentId} {
      allow read, write: if request.auth != null;
    }

    // ê¸°íƒ€ ì»¬ë ‰ì…˜ë„ ë™ì¼
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

#### 10.4.3 Firebase Storage ì„¤ì •

1. Storage ìƒì„±
2. ë³´ì•ˆ ê·œì¹™ ì„¤ì •:

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

#### 10.4.4 Firebase Authentication ì„¤ì •

1. Authentication í™œì„±í™”
2. ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ í™œì„±í™”
3. (ì„ íƒ) ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ í…œí”Œë¦¿ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### 10.5 Google Gemini API ì„¤ì •

1. [Google AI Studio](https://makersuite.google.com/app/apikey) ì ‘ì†
2. API í‚¤ ìƒì„±
3. `.env`ì˜ `EXPO_PUBLIC_GEMINI_API_KEY`ì— ì…ë ¥

### 10.6 ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# Expo ê°œë°œ ì„œë²„ ì‹œì‘
npm start

# ì˜µì…˜:
# - iOS ì‹œë®¬ë ˆì´í„°: npm run ios
# - Android ì—ë®¬ë ˆì´í„°: npm run android
# - ì›¹ ë¸Œë¼ìš°ì €: npm run web
```

### 10.7 ë¹Œë“œ ë° ë°°í¬

#### iOS ë¹Œë“œ (Apple Developer ê³„ì • í•„ìš”)

```bash
# EAS Build ì„¤ì¹˜
npm install -g eas-cli

# EAS ë¡œê·¸ì¸
eas login

# í”„ë¡œì íŠ¸ ì„¤ì •
eas build:configure

# iOS ë¹Œë“œ
eas build --platform ios
```

#### Android ë¹Œë“œ

```bash
# Android APK ë¹Œë“œ
eas build --platform android --profile preview
```

---

## 11. ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

### 11.1 íšŒì°¨ê¶Œ ì‹œìŠ¤í…œ

#### 11.1.1 íšŒì°¨ê¶Œ ìë™ ì°¨ê°

**íŒŒì¼**: `src/screens/teacher/AttendanceScreen.js:213-232`

**ë¡œì§**:
1. ì¶œì„ ì²´í¬ ì‹œ í•™ìƒì˜ `ticketType` í™•ì¸
2. `ticketType === 'count'`ì¸ ê²½ìš°ë§Œ ì°¨ê°
3. `ticketCount - 1` í›„ Firestore ì—…ë°ì´íŠ¸
4. ë‚¨ì€ íšŸìˆ˜ì— ë”°ë¼ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ:
   - 0íšŒ: "íšŒì°¨ê¶Œì´ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤!"
   - â‰¤2íšŒ: "ë‚¨ì€ íšŸìˆ˜: NíšŒ" (ê²½ê³ )
   - >2íšŒ: "ì¶œì„ ì²´í¬ ì™„ë£Œ (ë‚¨ì€ íšŸìˆ˜: NíšŒ)"

#### 11.1.2 íšŒì°¨ê¶Œ ì¶©ì „

**íŒŒì¼**: `src/screens/teacher/StudentDetailScreen.js:290-320`

**ê¸°ëŠ¥**:
- Quick ì¶©ì „ ë²„íŠ¼: +4íšŒ, +8íšŒ, +12íšŒ
- í˜„ì¬ íšŸìˆ˜ì— ì¶”ê°€
- Firestore ì¦‰ì‹œ ì—…ë°ì´íŠ¸
- í† ìŠ¤íŠ¸ ë©”ì‹œì§€: "íšŒì°¨ê¶Œ NíšŒê°€ ì¶©ì „ë˜ì—ˆìŠµë‹ˆë‹¤"

#### 11.1.3 íšŒì°¨ê¶Œ íƒ€ì… ë³€ê²½

**íŒŒì¼**: `src/screens/teacher/StudentDetailScreen.js:220-265`

**ê¸°ëŠ¥**:
- íšŒì°¨ê¶Œ â†” ê¸°ê°„ê¶Œ ì „í™˜
- íšŒì°¨ê¶Œ: íšŸìˆ˜ ì…ë ¥
- ê¸°ê°„ê¶Œ: ì‹œì‘ì¼/ì¢…ë£Œì¼ ì…ë ¥
- ìœ íš¨ì„± ê²€ì‚¬ í›„ Firestore ì—…ë°ì´íŠ¸

### 11.2 ì•Œë¦¼ì¥ ì‹œìŠ¤í…œ

#### 11.2.1 Phase 1: ì½ìŒ í™•ì¸

**êµ¬í˜„ íŒŒì¼**:
- Backend: `firestoreService.js:659-790`
- í•™ë¶€ëª¨: `NoticeScreen.js`
- ì„ ìƒë‹˜: `NoticeDetailScreen.js`

**ë°ì´í„° êµ¬ì¡°**:
```javascript
{
  readBy: [
    { studentId: 'student1', readAt: '2025-10-22T10:30:00Z' },
    { studentId: 'student2', readAt: '2025-10-22T11:15:00Z' }
  ],
  confirmed: 2,  // ì½ì€ í•™ìƒ ìˆ˜
  total: 5       // ì „ì²´ ìˆ˜ì‹ ì ìˆ˜
}
```

**ì½ìŒ ì²˜ë¦¬**:
```javascript
// í•™ë¶€ëª¨ê°€ ì•Œë¦¼ì¥ ì—´ëŒ ì‹œ ìë™ ì‹¤í–‰
await markNoticeAsRead(noticeId, studentId);

// Firestore ì—…ë°ì´íŠ¸:
// 1. readBy ë°°ì—´ì— { studentId, readAt } ì¶”ê°€
// 2. confirmed ì¹´ìš´íŠ¸ +1
```

**ë¯¸í™•ì¸ í•™ë¶€ëª¨ í‘œì‹œ**:
```javascript
// ì„ ìƒë‹˜ ìƒì„¸ í™”ë©´
const unreadStudents = recipients.filter(
  id => !readBy.some(r => r.studentId === id)
);
// ë¯¸í™•ì¸ í•™ë¶€ëª¨ ì´ë¦„, ì—°ë½ì²˜ í‘œì‹œ
```

#### 11.2.2 Phase 2: ì‚¬ì§„/ë™ì˜ìƒ ì²¨ë¶€

**êµ¬í˜„ íŒŒì¼**:
- ì»´í¬ë„ŒíŠ¸: `MediaPicker.js`
- ì—…ë¡œë“œ: `firestoreService.js:1387-1472`
- ì‘ì„± í™”ë©´: `NoticeCreateScreen.js:620-636`

**ì—…ë¡œë“œ í”„ë¡œì„¸ìŠ¤**:
1. ì‚¬ìš©ìê°€ ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ì„ íƒ (ìµœëŒ€ 5ê°œ)
2. ë°œì†¡ ë²„íŠ¼ í´ë¦­
3. **ë¨¼ì € Firebase Storageì— ì—…ë¡œë“œ**:
   ```javascript
   const result = await uploadMultipleMedia(
     selectedMedia,
     'notices',
     (progress) => setUploadProgress(progress)
   );
   ```
4. **ì—…ë¡œë“œ ì™„ë£Œ í›„ URL ë°°ì—´ ë°›ê¸°**:
   ```javascript
   uploadedMediaUrls = [
     { url: 'https://...', type: 'image' },
     { url: 'https://...', type: 'video' }
   ];
   ```
5. **Firestoreì— ì•Œë¦¼ì¥ ì €ì¥** (URL í¬í•¨)

**í‘œì‹œ**:
- 3ì—´ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
- ë¹„ë””ì˜¤ëŠ” ì¬ìƒ ì•„ì´ì½˜ ì˜¤ë²„ë ˆì´
- íƒ­í•˜ë©´ ì „ì²´ í™”ë©´ ë³´ê¸° (í–¥í›„ êµ¬í˜„)

#### 11.2.3 Phase 3: ëŒ“ê¸€ ì‹œìŠ¤í…œ

**êµ¬í˜„ íŒŒì¼**:
- ì»´í¬ë„ŒíŠ¸: `CommentSection.js`
- Backend: `firestoreService.js:1373-1482`

**ì‹¤ì‹œê°„ êµ¬ë…**:
```javascript
useEffect(() => {
  const unsubscribe = subscribeToComments(noticeId, (comments) => {
    setComments(comments);
  });

  return () => unsubscribe();
}, [noticeId]);
```

**Firestore Snapshot Listener**:
- ëŒ“ê¸€ ì¶”ê°€/ì‚­ì œ ì‹œ ìë™ ì—…ë°ì´íŠ¸
- ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ ë°˜ì˜

**ëŒ“ê¸€ ì‘ì„±**:
```javascript
await createComment(noticeId, {
  userId: user.uid,
  userName: user.name,
  userType: 'parent',
  content: newComment
});
```

**ëŒ“ê¸€ ì‚­ì œ**:
- ë³¸ì¸ì˜ ëŒ“ê¸€ë§Œ ì‚­ì œ ê°€ëŠ¥
- `userId` í™•ì¸ í›„ ì‚­ì œ ë²„íŠ¼ í‘œì‹œ

### 11.3 AI í†µí•© (Google Gemini)

#### 11.3.1 ìˆ˜ì—… ì¼ì§€ AI ë©”ëª¨

**íŒŒì¼**: `geminiService.js:130-180`

**í”„ë¡¬í”„íŠ¸**:
```javascript
const prompt = `
ë‹¹ì‹ ì€ í”¼ì•„ë…¸ ì„ ìƒë‹˜ì…ë‹ˆë‹¤. ë‹¤ìŒ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ
í•™ë¶€ëª¨ë‹˜ê»˜ ì „ë‹¬í•  ê°„ë‹¨í•œ ìˆ˜ì—… ì¼ì§€ ë©”ëª¨ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

í•™ìƒ: ${studentName}
ì§„ë„: ${progress}
ì—°ìŠµ ê³¼ì œ: ${practice}

ìš”êµ¬ì‚¬í•­:
1. 2-3ë¬¸ì¥ìœ¼ë¡œ ê°„ê²°í•˜ê²Œ
2. ì¹œê·¼í•˜ê³  ê¸ì •ì ì¸ ì–´ì¡°
3. í•™ë¶€ëª¨ê°€ ì´í•´í•˜ê¸° ì‰½ê²Œ
4. ì´ëª¨ì§€ ì‚¬ìš© ìì œ
`;
```

**API í˜¸ì¶œ**:
```javascript
const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash"
});

const result = await model.generateContent(prompt);
const memo = result.response.text();
```

#### 11.3.2 ì•Œë¦¼ì¥ AI ìƒì„±

**íŒŒì¼**: `geminiService.js:200-280`

**í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ** (ë°œí‘œíšŒ):
```javascript
const prompt = `
í”¼ì•„ë…¸ í•™ì› ì„ ìƒë‹˜ì´ í•™ë¶€ëª¨ë‹˜ë“¤ê»˜ ë³´ë‚¼ ì•Œë¦¼ì¥ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.

ë‚´ìš©: ${userPrompt}
í…œí”Œë¦¿: ë°œí‘œíšŒ ì•ˆë‚´

ìš”êµ¬ì‚¬í•­:
1. ì œëª©ê³¼ ë³¸ë¬¸ì„ êµ¬ë¶„í•˜ì—¬ ì‘ì„±
2. ì •ì¤‘í•˜ê³  ì¹œê·¼í•œ ì–´ì¡°
3. ì¤‘ìš” ì •ë³´ëŠ” ëª…í™•í•˜ê²Œ
4. 200-300ì ì •ë„
5. ì´ëª¨ì§€ 1-2ê°œë§Œ ì‚¬ìš©

í˜•ì‹:
ì œëª©: [ë°œí‘œíšŒ ì•ˆë‚´]
ë³¸ë¬¸: ì•ˆë…•í•˜ì„¸ìš”, í•™ë¶€ëª¨ë‹˜...
`;
```

**ê°œì„  ê¸°ëŠ¥** ("ë” ì¹œì ˆí•˜ê²Œ" / "ë” ê°„ê²°í•˜ê²Œ"):
```javascript
const improvePrompt = `
ë‹¤ìŒ ì•Œë¦¼ì¥ ë‚´ìš©ì„ ${direction === 'friendly' ? 'ë” ì¹œì ˆí•˜ê³  ë”°ëœ»í•œ ì–´ì¡°ë¡œ' : 'ë” ê°„ê²°í•˜ê³  í•µì‹¬ë§Œ'}
ìˆ˜ì •í•´ì£¼ì„¸ìš”.

ì›ë³¸:
${content}
`;
```

### 11.4 í‘¸ì‹œ ì•Œë¦¼

#### 11.4.1 í† í° ë“±ë¡

**íŒŒì¼**: `pushNotificationService.js:33-82`

**í”„ë¡œì„¸ìŠ¤**:
1. **ê¶Œí•œ í™•ì¸**:
   ```javascript
   const { status } = await Notifications.getPermissionsAsync();
   ```

2. **ê¶Œí•œ ìš”ì²­** (ì—†ëŠ” ê²½ìš°):
   ```javascript
   await Notifications.requestPermissionsAsync();
   ```

3. **Expo Push Token ê°€ì ¸ì˜¤ê¸°**:
   ```javascript
   const token = await Notifications.getExpoPushTokenAsync({
     projectId: process.env.EXPO_PUBLIC_PROJECT_ID
   });
   ```

4. **Firestoreì— ì €ì¥**:
   ```javascript
   await updateDoc(userRef, {
     pushToken: token.data,
     pushTokenUpdatedAt: new Date()
   });
   ```

#### 11.4.2 ì•Œë¦¼ ì „ì†¡

**íŒŒì¼**: `pushNotificationService.js:145-190`

**Expo Push API í˜¸ì¶œ**:
```javascript
const messages = pushTokens.map(token => ({
  to: token,
  sound: 'default',
  title: 'ìƒˆ ì•Œë¦¼ì¥ì´ ë„ì°©í–ˆì–´ìš” ğŸ“',
  body: noticeTitle,
  data: { type: 'notice', screen: 'NoticeScreen' },
  badge: 1,
}));

const response = await fetch('https://exp.host/--/api/v2/push/send', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify(messages),
});
```

#### 11.4.3 í†µí•©

**ì•Œë¦¼ì¥ ë°œì†¡ ì‹œ** (`NoticeCreateScreen.js:292-299`):
```javascript
// ì•Œë¦¼ì¥ ì €ì¥ í›„
await sendNoticeNotification(selectedStudents, previewTitle);
```

**ëŒ“ê¸€ ì‘ì„± ì‹œ** (`CommentSection.js` - í–¥í›„ í†µí•© ì˜ˆì •):
```javascript
await sendCommentNotification(
  noticeId,
  user.name,
  recipientId,
  recipientType
);
```

### 11.5 ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”

#### 11.5.1 Firestore Snapshot Listeners

**ëŒ“ê¸€ ì‹¤ì‹œê°„ êµ¬ë…** (`CommentSection.js:29-36`):
```javascript
useEffect(() => {
  const unsubscribe = subscribeToComments(noticeId, (comments) => {
    setComments(comments);
  });

  return () => unsubscribe();
}, [noticeId]);
```

**Firestore ë¦¬ìŠ¤ë„ˆ** (`firestoreService.js:1460-1482`):
```javascript
export const subscribeToComments = (noticeId, callback) => {
  const q = query(
    collection(db, 'comments'),
    where('noticeId', '==', noticeId),
    orderBy('createdAt', 'asc')
  );

  return onSnapshot(q, (snapshot) => {
    const comments = [];
    snapshot.forEach((doc) => {
      comments.push({ id: doc.id, ...doc.data() });
    });
    callback(comments);
  });
};
```

**ì¥ì **:
- ìƒˆ ëŒ“ê¸€ ì¦‰ì‹œ í‘œì‹œ
- ë³„ë„ì˜ polling ë¶ˆí•„ìš”
- ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ë™ì‹œ ë°˜ì˜

---

## 12. í–¥í›„ ê°œë°œ ê³„íš

### 12.1 Phase 4: ë°œí‘œíšŒ/ì‹œí—˜ ê´€ë¦¬

#### ê¸°ëŠ¥
- ë°œí‘œíšŒ ì¼ì • ë“±ë¡
- ì°¸ê°€ í•™ìƒ ê´€ë¦¬
- ê³¡ ëª©ë¡ ê´€ë¦¬
- ë¦¬í—ˆì„¤ ì¼ì •
- í•™ë¶€ëª¨ ì´ˆëŒ€ì¥
- ì‚¬ì§„/ë™ì˜ìƒ ê°¤ëŸ¬ë¦¬

#### ë°ì´í„° êµ¬ì¡°
```typescript
events: {
  id: string,
  teacherId: string,
  type: 'recital' | 'exam',
  title: string,
  date: string,
  time: string,
  location: string,
  participants: Array<{
    studentId: string,
    repertoire: string[]
  }>,
  photos: string[],
  videos: string[]
}
```

### 12.2 ê³ ê¸‰ í†µê³„ ë° ë¶„ì„

#### ê¸°ëŠ¥
- í•™ìƒë³„ ì„±ì¥ ì°¨íŠ¸
- ì¶œì„ë¥  ì¶”ì´ ê·¸ë˜í”„
- ìˆ˜ê°•ë£Œ ì˜ˆì¸¡
- ë ˆìŠ¨ íš¨ìœ¨ì„± ë¶„ì„
- ì»¤ë¦¬í˜ëŸ¼ ì§„ë„ìœ¨

#### ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- `react-native-chart-kit` (ì´ë¯¸ ì„¤ì¹˜ë¨)
- ì›”ë³„/ë¶„ê¸°ë³„/ì—°ë„ë³„ í†µê³„

### 12.3 í•™ë¶€ëª¨-í•™ìƒ ì—°ê²° ì‹œìŠ¤í…œ

#### í˜„ì¬ ìƒíƒœ
- ì„ì‹œë¡œ `user.studentId` ì‚¬ìš©
- í•™ë¶€ëª¨-í•™ìƒ ê´€ê³„ê°€ Firestoreì— ëª…ì‹œì ìœ¼ë¡œ ì €ì¥ë˜ì§€ ì•ŠìŒ

#### ê°œì„  ë°©ì•ˆ
1. **ì´ˆëŒ€ ì½”ë“œ ì‹œìŠ¤í…œ**
   ```
   - ì„ ìƒë‹˜ì´ í•™ìƒ ë“±ë¡ ì‹œ ê³ ìœ  ì½”ë“œ ìƒì„±
   - í•™ë¶€ëª¨ê°€ íšŒì›ê°€ì… ì‹œ ì½”ë“œ ì…ë ¥
   - Firestoreì— ê´€ê³„ ì €ì¥
   ```

2. **ë°ì´í„° êµ¬ì¡°**
   ```typescript
   parents: {
     id: string,
     email: string,
     name: string,
     children: string[]  // í•™ìƒ ID ë°°ì—´
   }

   students: {
     ...existing,
     parentId: string
   }
   ```

### 12.4 ì•Œë¦¼ ê°œì„ 

#### Push ì•Œë¦¼ í™•ì¥
- [ ] ì¶œì„ ì²´í¬ ì•Œë¦¼ (í•™ë¶€ëª¨)
- [ ] ìˆ˜ê°•ë£Œ ë‚©ë¶€ ì•Œë¦¼ (D-3, D-1, D-Day)
- [ ] ë³´ê°• ìˆ˜ì—… ë¦¬ë§ˆì¸ë”
- [ ] ë°œí‘œíšŒ D-7 ì•Œë¦¼

#### ì•± ë‚´ ì•Œë¦¼
- [ ] ì•Œë¦¼ ì„¼í„° êµ¬í˜„
- [ ] ì•Œë¦¼ ì½ìŒ/ì•ˆì½ìŒ ê´€ë¦¬
- [ ] ì•Œë¦¼ í•„í„°ë§

### 12.5 UX ê°œì„ 

#### ì˜¤í”„ë¼ì¸ ëª¨ë“œ
- AsyncStorageë¡œ ë¡œì»¬ ìºì‹±
- ë„¤íŠ¸ì›Œí¬ ì¬ì—°ê²° ì‹œ ë™ê¸°í™”
- ì˜¤í”„ë¼ì¸ ìƒíƒœ UI í‘œì‹œ

#### ë‹¤í¬ ëª¨ë“œ
- ë‹¤í¬ í…Œë§ˆ ì§€ì›
- ì‹œìŠ¤í…œ ì„¤ì • ì—°ë™

#### ì ‘ê·¼ì„±
- ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
- í°íŠ¸ í¬ê¸° ì¡°ì ˆ
- ê³ ëŒ€ë¹„ ëª¨ë“œ

### 12.6 ê²°ì œ í†µí•©

#### PG ì—°ë™ (í–¥í›„)
- Toss Payments / KakaoPay
- í•™ë¶€ëª¨ê°€ ì•±ì—ì„œ ì§ì ‘ ìˆ˜ê°•ë£Œ ê²°ì œ
- ìë™ ë‚©ë¶€ ë‚´ì—­ ê¸°ë¡

### 12.7 ë°±ì—… ë° ë³µêµ¬

#### ë°ì´í„° ë°±ì—…
- Firestore Export ìŠ¤ì¼€ì¤„ë§
- í•™ìƒ ë°ì´í„° CSV ë‚´ë³´ë‚´ê¸°
- ì•Œë¦¼ì¥ PDF ë³€í™˜

#### ë°ì´í„° ë³µêµ¬
- ë°±ì—…ì—ì„œ ë³µì›
- ì‹¤ìˆ˜ë¡œ ì‚­ì œí•œ ë°ì´í„° ë³µêµ¬ (30ì¼ ë‚´)

### 12.8 ë‹¤êµ­ì–´ ì§€ì›

#### i18n í†µí•©
- í•œêµ­ì–´ (ê¸°ë³¸)
- ì˜ì–´
- ì¤‘êµ­ì–´ (ê°„ì²´)

### 12.9 ì›¹ ë²„ì „

#### ì„ ìƒë‹˜ ì›¹ ëŒ€ì‹œë³´ë“œ
- React Web ë˜ëŠ” Next.js
- ë” í° í™”ë©´ì—ì„œ í†µê³„ í™•ì¸
- ëŒ€ëŸ‰ ë°ì´í„° ì…ë ¥/ìˆ˜ì •

---

## ë¶€ë¡ A: ì£¼ìš” í™”ë©´ ëª©ë¡

### ì„ ìƒë‹˜ í™”ë©´ (16ê°œ)

| í™”ë©´ | íŒŒì¼ëª… | ì„¤ëª… |
|------|--------|------|
| ëŒ€ì‹œë³´ë“œ | `DashboardScreen.js` | ì˜¤ëŠ˜ì˜ ì¶œì„, ë¯¸ìˆ˜ê¸ˆ, í†µê³„ |
| í•™ìƒ ëª©ë¡ | `StudentListScreen.js` | ì „ì²´ í•™ìƒ ëª©ë¡, ê²€ìƒ‰/í•„í„° |
| í•™ìƒ ì¶”ê°€/ìˆ˜ì • | `StudentFormScreen.js` | í•™ìƒ ì •ë³´ ì…ë ¥ |
| í•™ìƒ ìƒì„¸ | `StudentDetailScreen.js` | í•™ìƒ ì •ë³´, ì¶œì„, ìˆ˜ê°•ë£Œ |
| ì¶œì„ ì²´í¬ | `AttendanceScreen.js` | ì¶œì„ ì²´í¬, íšŒì°¨ê¶Œ ì°¨ê° |
| ì˜¤ëŠ˜ ìˆ˜ì—… | `TodayClassesScreen.js` | ì˜¤ëŠ˜ ìˆ˜ì—… í•™ìƒ ëª©ë¡ |
| ë³´ê°• ìˆ˜ì—… | `MakeupClassesScreen.js` | ë³´ê°• ìˆ˜ì—… ê´€ë¦¬ |
| ì•Œë¦¼ì¥ ëª©ë¡ | `NoticeListScreen.js` | ë°œì†¡í•œ ì•Œë¦¼ì¥ ëª©ë¡ |
| ì•Œë¦¼ì¥ ì‘ì„± | `NoticeCreateScreen.js` | AI ê¸°ë°˜ ì•Œë¦¼ì¥ ì‘ì„± |
| ì•Œë¦¼ì¥ ìƒì„¸ | `NoticeDetailScreen.js` | ì•Œë¦¼ì¥ ë‚´ìš©, ëŒ“ê¸€, ì½ìŒ í™•ì¸ |
| ìˆ˜ì—… ì¼ì§€ | `LessonNoteScreen.js` | ìˆ˜ì—… ì¼ì§€ ëª©ë¡/ì‘ì„± |
| ë¯¸ìˆ˜ê¸ˆ ê´€ë¦¬ | `UnpaidStudentsScreen.js` | ë¯¸ë‚© í•™ìƒ ëª©ë¡ |
| ìˆ˜ê°•ë£Œ ê´€ë¦¬ | `TuitionScreen.js` | ìˆ˜ê°•ë£Œ ë‚´ì—­ |
| í†µê³„ | `StatisticsScreen.js` | ì¶œì„ë¥ , ìˆ˜ì… í†µê³„ |
| í”„ë¡œí•„ | `ProfileScreen.js` | ì„ ìƒë‹˜ ì •ë³´ |
| ê°¤ëŸ¬ë¦¬ | `GalleryScreen.js` | í•™ì› í–‰ì‚¬ ì‚¬ì§„ |

### í•™ë¶€ëª¨ í™”ë©´ (8ê°œ)

| í™”ë©´ | íŒŒì¼ëª… | ì„¤ëª… |
|------|--------|------|
| í™ˆ | `HomeScreen.js` | ìë…€ ì •ë³´, ì¶œì„, ì•Œë¦¼ì¥ ìš”ì•½ |
| ìë…€ ì •ë³´ | `ChildInfoScreen.js` | ìë…€ ìƒì„¸ ì •ë³´ |
| ì¶œì„ ì¡°íšŒ | `AttendanceScreen.js` | ì¶œì„ íˆìŠ¤í† ë¦¬ |
| ì•Œë¦¼ì¥ | `NoticeScreen.js` | ì•Œë¦¼ì¥ ëª©ë¡, ëŒ“ê¸€ |
| ìˆ˜ì—… ì¼ì§€ | `LessonNoteScreen.js` | ìˆ˜ì—… ì¼ì§€ ì—´ëŒ |
| ìˆ˜ê°•ë£Œ | `TuitionScreen.js` | ë‚©ë¶€ ë‚´ì—­ |
| ì§„ë„ í˜„í™© | `ProgressScreen.js` | í•™ìŠµ ì§„ë„ (í–¥í›„ êµ¬í˜„) |
| ê°¤ëŸ¬ë¦¬ | `GalleryScreen.js` | í•™ì› í–‰ì‚¬ ì‚¬ì§„ |

### ì¸ì¦ í™”ë©´ (7ê°œ)

| í™”ë©´ | íŒŒì¼ëª… | ì„¤ëª… |
|------|--------|------|
| ìŠ¤í”Œë˜ì‹œ | `SplashScreen.js` | ë¡œë”© í™”ë©´ |
| ì—­í•  ì„ íƒ | `RoleSelectScreen.js` | ì„ ìƒë‹˜/í•™ë¶€ëª¨ ì„ íƒ |
| ë¡œê·¸ì¸ | `LoginScreen.js` | ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ |
| ì„ ìƒë‹˜ íšŒì›ê°€ì… | `SignupTeacherScreen.js` | ì„ ìƒë‹˜ ì •ë³´ ì…ë ¥ |
| í•™ë¶€ëª¨ íšŒì›ê°€ì… | `SignupParentScreen.js` | í•™ë¶€ëª¨ ì •ë³´ ì…ë ¥ |
| ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° | `FindPasswordScreen.js` | ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • |
| ê³µí†µ íšŒì›ê°€ì… | `SignupScreen.js` | (ë¯¸ì‚¬ìš©) |

---

## ë¶€ë¡ B: ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### ê³µí†µ ì»´í¬ë„ŒíŠ¸ (`src/components/common/`)

| ì»´í¬ë„ŒíŠ¸ | íŒŒì¼ëª… | ì„¤ëª… |
|----------|--------|------|
| Text | `Text.js` | ê¸°ë³¸ í…ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ |
| Button | `Button.js` | ë²„íŠ¼ |
| FormInput | `FormInput.js` | ì…ë ¥ í•„ë“œ |
| MediaPicker | `MediaPicker.js` | ì´ë¯¸ì§€/ë¹„ë””ì˜¤ ì„ íƒ |
| CommentSection | `CommentSection.js` | ëŒ“ê¸€ ì„¹ì…˜ |
| DatePickerModal | `DatePickerModal.js` | ë‚ ì§œ ì„ íƒ ëª¨ë‹¬ |
| ScreenHeader | `ScreenHeader.js` | í™”ë©´ í—¤ë” |
| Toast | `Toast.js` | í† ìŠ¤íŠ¸ ë©”ì‹œì§€ |
| BottomSheet | `BottomSheet.js` | í•˜ë‹¨ ì‹œíŠ¸ |
| EmptyState | `EmptyState.js` | ë¹ˆ ìƒíƒœ UI |

### ì„ ìƒë‹˜ ì»´í¬ë„ŒíŠ¸ (`src/components/teacher/`)

| ì»´í¬ë„ŒíŠ¸ | íŒŒì¼ëª… | ì„¤ëª… |
|----------|--------|------|
| StudentCard | `StudentCard.js` | í•™ìƒ ì¹´ë“œ |
| LessonNoteCard | `LessonNoteCard.js` | ìˆ˜ì—… ì¼ì§€ ì¹´ë“œ |
| LessonNoteModal | `LessonNoteModal.js` | ìˆ˜ì—… ì¼ì§€ ì‘ì„± ëª¨ë‹¬ |
| NoticeTemplateSelector | `NoticeTemplateSelector.js` | ì•Œë¦¼ì¥ í…œí”Œë¦¿ ì„ íƒ |
| NoticeRecipientSelector | `NoticeRecipientSelector.js` | ìˆ˜ì‹ ì ì„ íƒ |

---

## ë¶€ë¡ C: ì½”ë“œ ì»¨ë²¤ì…˜

### íŒŒì¼ ëª…ëª… ê·œì¹™

- **í™”ë©´**: `PascalCase` + `Screen.js` (ì˜ˆ: `DashboardScreen.js`)
- **ì»´í¬ë„ŒíŠ¸**: `PascalCase` (ì˜ˆ: `StudentCard.js`)
- **ì„œë¹„ìŠ¤**: `camelCase` + `Service.js` (ì˜ˆ: `authService.js`)
- **ìŠ¤í† ì–´**: `camelCase` + `Store.js` (ì˜ˆ: `studentStore.js`)
- **ìœ í‹¸**: `camelCase` (ì˜ˆ: `formatDate.js`)

### ë³€ìˆ˜ ëª…ëª… ê·œì¹™

- **ì»´í¬ë„ŒíŠ¸**: PascalCase (ì˜ˆ: `StudentCard`)
- **í•¨ìˆ˜**: camelCase (ì˜ˆ: `fetchStudents`)
- **ìƒìˆ˜**: UPPER_SNAKE_CASE (ì˜ˆ: `FIREBASE_VERSION`)
- **boolean**: `is`, `has`, `should` ì ‘ë‘ì‚¬ (ì˜ˆ: `isLoading`, `hasError`)

### Import ìˆœì„œ

```javascript
// 1. React & React Native
import React, { useState, useEffect } from 'react';
import { View, Text } from 'react-native';

// 2. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
import { SafeAreaView } from 'react-native-safe-area-context';
import { Ionicons } from '@expo/vector-icons';

// 3. í”„ë¡œì íŠ¸ ì»´í¬ë„ŒíŠ¸
import { Button, FormInput } from '../../components/common';

// 4. ì„œë¹„ìŠ¤ & ìŠ¤í† ì–´
import { useStudentStore, useToastStore } from '../../store';
import { authService } from '../../services/authService';

// 5. ìŠ¤íƒ€ì¼ & ìƒìˆ˜
import TEACHER_COLORS from '../../styles/teacher_colors';
```

### ì£¼ì„ ê·œì¹™

```javascript
/**
 * í•¨ìˆ˜ ì„¤ëª…
 * @param {string} param1 - íŒŒë¼ë¯¸í„° ì„¤ëª…
 * @returns {Promise<Object>} ë°˜í™˜ê°’ ì„¤ëª…
 */
export const functionName = async (param1) => {
  // êµ¬í˜„
};
```

---

## ë¶€ë¡ D: íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. Firebase ì—°ê²° ì˜¤ë¥˜

**ì¦ìƒ**: "Firebase initialization error"

**í•´ê²°**:
```bash
# .env íŒŒì¼ í™•ì¸
# Firebase ì½˜ì†”ì—ì„œ ì„¤ì • ê°’ ì¬í™•ì¸
# ê°œë°œ ì„œë²„ ì¬ì‹œì‘
npm start -- --reset-cache
```

#### 2. í‘¸ì‹œ ì•Œë¦¼ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: "í‘¸ì‹œ ì•Œë¦¼ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"

**í•´ê²°**:
- Expo Goì—ì„œëŠ” í‘¸ì‹œ ì•Œë¦¼ ë¹„í™œì„±í™” (ì •ìƒ)
- ì‹¤ì œ ë””ë°”ì´ìŠ¤ì—ì„œ í…ŒìŠ¤íŠ¸ í•„ìš”
- Development Build ìƒì„±:
  ```bash
  eas build --profile development
  ```

#### 3. ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨

**ì¦ìƒ**: "ë¯¸ë””ì–´ ì—…ë¡œë“œ ì‹¤íŒ¨"

**í•´ê²°**:
- Firebase Storage ê·œì¹™ í™•ì¸
- íŒŒì¼ í¬ê¸° ì œí•œ í™•ì¸ (ìµœëŒ€ 10MB)
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸

#### 4. ì¶œì„ ì²´í¬ ì‹œ í•™ìƒ ì¹´ë“œ ì‚¬ë¼ì§

**ì¦ìƒ**: ì¶œì„ ë²„íŠ¼ í´ë¦­ í›„ ì¹´ë“œ ì‚¬ë¼ì§

**í•´ê²°**: âœ… ìˆ˜ì • ì™„ë£Œ (`AttendanceScreen.js:143-168`)
- useEffect ì˜ì¡´ì„± ë¬¸ì œ í•´ê²°
- ì¶œì„ ìƒíƒœ ìœ ì§€ ë¡œì§ ì¶”ê°€

---

## ë¶€ë¡ E: ì„±ëŠ¥ ìµœì í™”

### ì´ë¯¸ ì ìš©ëœ ìµœì í™”

1. **useMemo / useCallback**
   - í•™ìƒ ëª©ë¡ í•„í„°ë§ (`StudentListScreen.js`)
   - ì¶œì„ ê·¸ë£¹í•‘ (`AttendanceScreen.js`)

2. **ì‹¤ì‹œê°„ êµ¬ë… ì •ë¦¬**
   - useEffect cleanup function
   - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

3. **ì´ë¯¸ì§€ ìµœì í™”**
   - ì—…ë¡œë“œ ì‹œ quality: 0.8
   - ì¸ë„¤ì¼ ìƒì„± (í–¥í›„)

4. **Lazy Loading**
   - í™”ë©´ë³„ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
   - React Navigation ê¸°ë³¸ ì§€ì›

### í–¥í›„ ìµœì í™” ê³„íš

1. **React.memo**
   - StudentCard, LessonNoteCard ë“±

2. **FlatList ìµœì í™”**
   - windowSize ì¡°ì •
   - getItemLayout êµ¬í˜„

3. **ì´ë¯¸ì§€ ìºì‹±**
   - React Native Fast Image

4. **Firestore ì¿¼ë¦¬ ìµœì í™”**
   - ì¸ë±ìŠ¤ ì¶”ê°€
   - ì¿¼ë¦¬ ì œí•œ (limit)

---

## ë¬¸ì„œ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|-----------|--------|
| 2025-10-22 | 1.0 | ì´ˆì•ˆ ì‘ì„± | Development Team |

---

## ì—°ë½ì²˜

- **ê°œë°œíŒ€**: development@piano-academy.com
- **ê¸°ìˆ  ì§€ì›**: support@piano-academy.com
- **GitHub**: https://github.com/piano-academy/app

---

**ë¬¸ì„œ ë**
